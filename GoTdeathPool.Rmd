---
title: "Game of Thrones Death Pool"
runtime: shiny
output: html_document
---
<style>
.plotly {
height: 225px !important;
}
.datatables {
max-width: 100% !important;
}
.nav-tabs {
max-width: 100% !important;
}
</style>
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# Load resources
setwd("~/Documents/Entertainment/GoTdeathPool")
library(shiny)
library(tidyverse)
library(DT)
library(plotly)

load("data/data.RData")
```


```{r, echo=FALSE}
# Tabular datatables of each Person's picks, colored by correctness (correct: green, wrong: red, NA: gray/clear)

fluidRow(
  column(6,
    div(style = "height:63px;margin:auto;", h2("Standings")),
    #standings
    datatable(standings, options = list(paging = F, searching = F, w = F))),
column(6, tabsetPanel(
  tabPanel("Pick", datatable(picks_key , options = list(scrollY = "500px", paging=F, searching=F), rownames=F)), 
  tabPanel("Andy", datatable(picks_chars %>% filter(Person == "al") %>% select(-Person), options = list(scrollY = "500px", scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
            formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Bryan", datatable(picks_chars %>% filter(Person == "bw") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
            formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("David", datatable(picks_chars %>% filter(Person == "df") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
            formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Jasmine", datatable(picks_chars %>% filter(Person == "jk") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
            formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Maclay", datatable(picks_chars %>% filter(Person == "am") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
           formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Mark", datatable(picks_chars %>% filter(Person == "ms") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
         formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Neale", datatable(picks_chars %>% filter(Person == "ng") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
          formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Ryan", datatable(picks_chars %>% filter(Person == "rf") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
         formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE')))), 
  tabPanel("Tony", datatable(picks_chars %>% filter(Person == "td") %>% select(-Person), options = list(scrollY = "500px", paging=F, searching=F, columnDefs = list(list(targets = 2, visible = F))), rownames=F) %>%
         formatStyle("Pick", "correct", backgroundColor = styleEqual(c("1", "0"), c('#C3D89E', '#FEC6CE'))))
)))
br()

```
<center> <h1> Pick Distribution </h1> </center> <br>
```{r plots, echo=FALSE}

fluidRow(
  div(style = "height:250px",
    lapply(char_death, function (x) column(width = 3, (x))))
)
```


